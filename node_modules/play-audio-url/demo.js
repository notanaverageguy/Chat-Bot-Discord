!function(){return function e(t,n,r){function o(u,a){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(i)return i(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){return o(t[u][1][e]||e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}}()({1:[function(e,t,n){"use strict";var r=e("call-next-tick");t.exports=function(e){var t,n=e.audioCtx;return{play:function(e,i){var u=e.buffer,a=e.decodedBuffer,c=e.loop,l=void 0!==c&&c;function f(e){o(),(t=n.createBufferSource()).connect(n.destination),t.buffer=e,t.loop=l,t.start(),r(i)}a?r(f,a):n.decodeAudioData(u,f,i)},stop:o};function o(){t&&t.stop()}}},{"call-next-tick":7}],2:[function(e,t,n){"use strict";var r=e("./index"),o=e("handle-error-web"),i=e("standard-bail")();function u(e){var t=e.htmlPlayer,n=e.bufferPlayer;function r(){t?t.pause():n.stop()}document.getElementById("stop-button").removeEventListener("click",r),document.getElementById("stop-button").addEventListener("click",r)}document.getElementById("activate-button").addEventListener("click",function(){r({url:"audio/npsRec.mp3"},i(u,o))})},{"./index":3,"handle-error-web":9,"standard-bail":13}],3:[function(e,t,n){"use strict";var r,o,i=e("async-waterfall"),u=e("collect-in-channel"),a=e("basic-browser-request"),c=e("request-body-mover"),l=e("./audio-buffer-player"),f=e("lodash.curry"),s=e("audio-context-singleton")();function p(e){return r=l({audioCtx:e})}t.exports=function(e,t){var n=e.url,l=e.sampleRate;function d(e,t){var n=e.url;a({method:"GET",url:n,binary:!0},c(t))}function h(e){e?t(e):t(null,{bufferPlayer:r})}function v(e,t){var n=e.buffer;r.play({buffer:n},t)}o?o.src=n:o=new Audio(n),o.play().then(function(){t(null,{htmlPlayer:o})},function(){var e={url:n},t=u({channel:e}),o=[];o=(o=r?[f(d)(e)]:[f(s.getNewContext)({sampleRate:l}),t({props:[[p,"bufferPlayer"]]}),d]).concat([t({props:[[function(e){return e},"buffer"]]}),v]),i(o,h)})}},{"./audio-buffer-player":1,"async-waterfall":4,"audio-context-singleton":5,"basic-browser-request":6,"collect-in-channel":8,"lodash.curry":10,"request-body-mover":12}],4:[function(e,t,n){(function(e,n){!function(r){"use strict";var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=function(t,r){if(r=r||function(){},!o(t)){var i=new Error("First argument to waterfall must be an array of functions");return r(i)}if(!t.length)return r();var u=function(t){return function(o){if(o)r.apply(null,arguments),r=function(){};else{var i=Array.prototype.slice.call(arguments,1),a=t.next();a?i.push(u(a)):i.push(r),c=function(){t.apply(null,i)},"function"==typeof n?n(c):void 0!==e&&e.nextTick?e.nextTick(c):setTimeout(c,0)}var c}};u(function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)}(t))()};"undefined"!=typeof define&&define.amd?define([],function(){return i}):void 0!==t&&t.exports?t.exports=i:r.asyncWaterfall=i}(this)}).call(this,e("_process"),e("timers").setImmediate)},{_process:11,timers:14}],5:[function(e,t,n){var r=e("call-next-tick");t.exports=function(){var e;return{getCurrentContext:function(n){e?r(n,null,e):t(n)},getNewContext:t};function t(t,n){var r,o;function i(){var t;r&&r.sampleRate&&(t={sampleRate:r.sampleRate}),e="function"==typeof AudioContext?new AudioContext(t):new webkitAudioContext(t),o(null,e)}"function"==typeof t?o=t:"function"==typeof n&&(o=n,"object"==typeof t&&(r=t)),e?e.close().then(i):i()}}},{"call-next-tick":7}],6:[function(e,t,n){if("object"==typeof t&&"object"==typeof t.exports){var r={makeRequest:function(e,t){var n=e.json||"application/json"===e.mimeType,r=new XMLHttpRequest;if(r.open(e.method,e.url),e.mimeType&&r.setRequestHeader("content-type",e.mimeType),n&&r.setRequestHeader("accept","application/json"),"object"==typeof e.headers)for(var o in e.headers)r.setRequestHeader(o,e.headers[o]);e.binary&&(r.responseType="arraybuffer"),n&&"object"==typeof e.body&&(e.body=JSON.stringify(e.body));var i=null;r.onload=function(){clearTimeout(i),e.onData&&c();var o={statusCode:this.status,statusMessage:r.statusText,responseURL:r.responseURL,rawResponse:r.response,xhr:r};if(e.binary)t(null,o,r.response);else{var u=this.responseText;if(n)try{u=JSON.parse(u)}catch(e){o.jsonParseError=e}t(null,o,u)}};var u=0;function a(){r.abort(),clearTimeout(i),t()}function c(){r.responseText&&(e.onData(r.responseText.substr(u)),u=r.responseText.length)}return e.onData&&(r.onreadystatechange=function(){3===r.readyState&&c()}),r.onerror=function(){var e=new Error("There is a problem with the network.");e.name="XHR network error",t(e)},r.send(e.formData||e.body),e.timeLimit>0&&(i=setTimeout(a,e.timeLimit)),{url:e.url,cancelRequest:a}}};t.exports=r.makeRequest}},{}],7:[function(e,t,n){(function(e){t.exports=function(){var t,n,r,o=arguments.length;if(!(o>0))throw new Error("No callback provided to callNextTick.");t=arguments[0],n=new Array(o-1);for(var i=1;i<o;++i)n[i-1]=arguments[i];r=function(e,t){return function(){e.apply(e,t)}}(t,n),e.nextTick(r)}}).call(this,e("_process"))},{_process:11}],8:[function(e,t,n){t.exports=function({channel:e,noErrorParamDefault:t=!0}){return function({props:n,properties:r,noErrorParam:o=t}){return Array.isArray(n)||(n=r),o?i:function(e,t,n){e?n(e):i(t,n)};function i(t,r){t&&n.forEach(function(n){if(Array.isArray(n)&&2===n.length){let r=n[0];e[n[1]]="function"==typeof r?r(t):t[n[0]]}else e[n]=t[n]}),r(null,e)}}}},{}],9:[function(e,t,n){t.exports=function(e){if(e){console.error(e,e.stack);var t="";e.name&&(t+=e.name+": "),t+=e.message,e.stack&&(t+=" | "+e.stack.toString()),function(e){var t=document.getElementById("status-message");t.textContent=e,t.classList.remove("hidden")}(t)}}},{}],10:[function(e,t,n){(function(e){var n="Expected a function",r="__lodash_placeholder__",o=1,i=2,u=4,a=8,c=16,l=32,f=64,s=128,p=512,d=1/0,h=9007199254740991,v=1.7976931348623157e308,y=NaN,m=[["ary",s],["bind",o],["bindKey",i],["curry",a],["curryRight",c],["flip",p],["partial",l],["partialRight",f],["rearg",256]],g="[object Function]",b="[object GeneratorFunction]",w="[object Symbol]",T=/^\s+|\s+$/g,x=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_=/\{\n\/\* \[wrapped with (.+)\] \*/,j=/,? & /,k=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,A=/^\[object .+?Constructor\]$/,R=/^0o[0-7]+$/i,I=/^(?:0|[1-9]\d*)$/,O=parseInt,C="object"==typeof e&&e&&e.Object===Object&&e,q="object"==typeof self&&self&&self.Object===Object&&self,L=C||q||Function("return this")();function $(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function P(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n,r){var o=e.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,S,n);var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function S(e){return e!=e}function N(e,t){for(var n=-1,o=e.length,i=0,u=[];++n<o;){var a=e[n];a!==t&&a!==r||(e[n]=r,u[i++]=n)}return u}var F,D,B,H=Function.prototype,M=Object.prototype,U=L["__core-js_shared__"],G=(F=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",J=H.toString,K=M.hasOwnProperty,X=M.toString,W=RegExp("^"+J.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=Object.create,Q=Math.max,V=Math.min,Y=(D=ie(Object,"defineProperty"),(B=ie.name)&&B.length>2?D:void 0);function Z(e){return!(!le(e)||G&&G in e)&&(function(e){var t=le(e)?X.call(e):"";return t==g||t==b}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?W:A).test(function(e){if(null!=e){try{return J.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ee(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n,r=le(n=e.prototype)?z(n):{},o=e.apply(r,t);return le(o)?o:r}}function te(e,t,n,r,u,l,f,d,h,v){var y=t&s,m=t&o,g=t&i,b=t&(a|c),w=t&p,T=g?void 0:ee(e);return function o(){for(var i=arguments.length,a=Array(i),c=i;c--;)a[c]=arguments[c];if(b)var s=oe(o),p=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}(a,s);if(r&&(a=function(e,t,n,r){for(var o=-1,i=e.length,u=n.length,a=-1,c=t.length,l=Q(i-u,0),f=Array(c+l),s=!r;++a<c;)f[a]=t[a];for(;++o<u;)(s||o<i)&&(f[n[o]]=e[o]);for(;l--;)f[a++]=e[o++];return f}(a,r,u,b)),l&&(a=function(e,t,n,r){for(var o=-1,i=e.length,u=-1,a=n.length,c=-1,l=t.length,f=Q(i-a,0),s=Array(f+l),p=!r;++o<f;)s[o]=e[o];for(var d=o;++c<l;)s[d+c]=t[c];for(;++u<a;)(p||o<i)&&(s[d+n[u]]=e[o++]);return s}(a,l,f,b)),i-=p,b&&i<v){var x=N(a,s);return ne(e,t,te,o.placeholder,n,a,x,d,h,v-i)}var _=m?n:this,j=g?_[e]:e;return i=a.length,d?a=function(e,t){for(var n=e.length,r=V(t.length,n),o=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e);r--;){var i=t[r];e[r]=ue(i,n)?o[i]:void 0}return e}(a,d):w&&i>1&&a.reverse(),y&&h<i&&(a.length=h),this&&this!==L&&this instanceof o&&(j=T||ee(j)),j.apply(_,a)}}function ne(e,t,n,r,c,s,p,d,h,v){var y=t&a;t|=y?l:f,(t&=~(y?f:l))&u||(t&=~(o|i));var m=n(e,t,c,y?s:void 0,y?p:void 0,y?void 0:s,y?void 0:p,d,h,v);return m.placeholder=r,ae(m,e,t)}function re(e,t,r,u,s,p,d,h){var v=t&i;if(!v&&"function"!=typeof e)throw new TypeError(n);var y=u?u.length:0;if(y||(t&=~(l|f),u=s=void 0),d=void 0===d?d:Q(se(d),0),h=void 0===h?h:se(h),y-=s?s.length:0,t&f){var m=u,g=s;u=s=void 0}var b=[e,t,r,u,s,m,g,p,d,h];if(e=b[0],t=b[1],r=b[2],u=b[3],s=b[4],!(h=b[9]=null==b[9]?v?0:e.length:Q(b[9]-y,0))&&t&(a|c)&&(t&=~(a|c)),t&&t!=o)w=t==a||t==c?function(e,t,n){var r=ee(e);return function o(){for(var i=arguments.length,u=Array(i),a=i,c=oe(o);a--;)u[a]=arguments[a];var l=i<3&&u[0]!==c&&u[i-1]!==c?[]:N(u,c);return(i-=l.length)<n?ne(e,t,te,o.placeholder,void 0,u,l,void 0,void 0,n-i):$(this&&this!==L&&this instanceof o?r:e,this,u)}}(e,t,h):t!=l&&t!=(o|l)||s.length?te.apply(void 0,b):function(e,t,n,r){var i=t&o,u=ee(e);return function t(){for(var o=-1,a=arguments.length,c=-1,l=r.length,f=Array(l+a),s=this&&this!==L&&this instanceof t?u:e;++c<l;)f[c]=r[c];for(;a--;)f[c++]=arguments[++o];return $(s,i?n:this,f)}}(e,t,r,u);else var w=function(e,t,n){var r=t&o,i=ee(e);return function t(){return(this&&this!==L&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return ae(w,e,t)}function oe(e){return e.placeholder}function ie(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Z(n)?n:void 0}function ue(e,t){return!!(t=null==t?h:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}var ae=Y?function(e,t,n){var r,o=t+"";return Y(e,"toString",{configurable:!0,enumerable:!1,value:(r=function(e,t){var n=t.length,r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(x,"{\n/* [wrapped with "+t+"] */\n")}(o,function(e,t){return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(m,function(n){var r="_."+n[0];t&n[1]&&!P(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(_);return t?t[1].split(j):[]}(o),n)),function(){return r})})}:function(e){return e};function ce(e,t,n){var r=re(e,a,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=ce.placeholder,r}function le(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function fe(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&X.call(e)==w}(e))return y;if(le(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=le(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(T,"");var n=E.test(e);return n||R.test(e)?O(e.slice(2),n?2:8):k.test(e)?y:+e}(e))===d||e===-d?(e<0?-1:1)*v:e==e?e:0:0===e?e:0}function se(e){var t=fe(e),n=t%1;return t==t?n?t-n:t:0}ce.placeholder={},t.exports=ce}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,n){var r,o,i=t.exports={};function u(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===u||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:u}catch(e){r=u}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var l,f=[],s=!1,p=-1;function d(){s&&l&&(s=!1,l.length?f=l.concat(f):p=-1,f.length&&h())}function h(){if(!s){var e=c(d);s=!0;for(var t=f.length;t;){for(l=f,f=[];++p<t;)l&&l[p].run();p=-1,t=f.length}l=null,s=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new v(e,t)),1!==f.length||s||c(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],12:[function(e,t,n){function r(e){return e.statusCode>199&&e.statusCode<300}t.exports=function(e,t){var n;if("object"==typeof e){var{url:o,responseIsOK:i}=e;n=t}else n=e;return i||(i=r),function(e,t,u){if(e)n(e);else if(i(t))n(null,u);else{let e="";e=i===r?`Received status code ${t.statusCode}`:"Bad response",o?e+=` from ${o} `:t.url&&(e+=` from ${t.url} `),e+=".",n(new Error(e))}}}},{}],13:[function(e,t,n){t.exports=function(e){var t;return e&&(t=e.log),function(e,n){return function(r){if(r)t&&(r.stack?t(r,r.stack):t(r)),n&&n(r);else if(e){var o=Array.prototype.slice.call(arguments,1);n&&o.push(n),e.apply(e,o)}}}}},{}],14:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,u=Array.prototype.slice,a={},c=0;function l(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new l(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&u.call(arguments,1);return a[t]=!0,o(function(){a[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete a[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":11,timers:14}]},{},[2]);